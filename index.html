<!DOCTYPE html>
<html lang="en-GB">
  <head>
    <meta charset="utf-8" />
    <title>&lt;easy-cropper&gt;</title>
    <link rel="stylesheet" href="./index.css" />
  </head>
  <body>
    <div id="container">
      <easy-cropper id="cropIt" src="./src/assets/image-01.jpg" aspectRatio="1:1"></easy-cropper>
    </div>
    <div id="actions">
      <button id="download">Download</button>
      <button id="copy">Copy</button>
    </div>

    <div id="liveImage"></div>

    <script type="module">
      import './src/main.js';

      const cropItEl = document.getElementById('cropIt');
      const downloadEl = document.getElementById('download');
      const copyEl = document.getElementById('copy');
      const liveImageEl = document.getElementById('liveImage');

      downloadEl.addEventListener('click', () => {
        cropItEl.downloadCroppedImage();
      });

      copyEl.addEventListener('click', () => {
        cropItEl.copyCroppedImage();
      });

      cropItEl.onCrop = (canvas) => {
        if (liveImageEl.firstChild) {
          liveImageEl.removeChild(liveImageEl.firstChild);
        }
        liveImageEl.appendChild(canvas);
      };
    </script>
  </body>
</html>
